<!DOCTYPE html>
<html>
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-M3FCKN6');</script>
    <!-- End Google Tag Manager -->
    <title>toDotmat</title>
    <meta charset='utf-8'/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="temp-style.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="shortcut icon" href="https://ijnet.org/sites/all/themes/ijnet/favicon.ico" type="image/vnd.microsoft.icon">
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M3FCKN6"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<nav class="navbar navbar-default main-navbar">
    <div class="container-fluid">
        <div class="navbar-header">
            <img src="https://ijnet.org/sites/all/themes/ijnet/images/logo_topbar.png">
        </div>
        <ul class="nav navbar-nav top-navbar">
            <li>
                <a href="http://www.icfj.org" title="" target="_blank"> ICFJ.org </a>
            </li>
            <li>
                <a href="http://www.ijnet.org" title=""> IJNET.org </a>
            </li>
            <li>
                <a href="http://icfjanywhere.org" title="" target="_blank"> ICFJAnywhere.org </a>
            </li>
            <li>
                <a href="http://www.icfj.org/awards-dinner" title="" targe="_blank" target="_blank">ICFJ AWARDS DINNER </a>
            </li>
        </ul>
    </div>
</nav>
<div class="container">
    <div id="side_list" class="side-list">
        <ul class="list-unstyled content-list">
            <li class="section-title">CONTENT</li>
            <li class="content-list-li active-content"><a href="#introduction" title=""> Introduction </a></li>
            <li class="content-list-li"><a href="#demo" title=""> Demo </a></li>
            <li class="content-list-li"><a href="#who-is-using-it" title=""> Who is using it? </a></li>
            <li class="content-list-li"><a href="#how-to-use-it" title=""> How to use it? </a></li>
            <li class="content-list-li"><a href="#contributors" title=""> Contributors </a></li>
            <br>
            <li><img src="src/img/watermark.jpg" alt="ICFJ" width="100px"></li>
        </ul>
    </div>
    <div class="container-header">
        <div id="logo">
            <a class="active">
                <img class="site-logo" typeof="foaf:Image" src="https://ijnet.org/sites/all/themes/ijnet/logo.png" alt="IJNet">
            </a>
        </div>
    </div>
    <nav class="navbar navbar-default container-navbar">
        <div class="container-fluid">
            <div class="navbar-header second-navbar">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">MENU</a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav">
                <li><a href="https://ijnet.org/en/news" target="blank">News & Resources</a></li>
                <li class="active"><a href="http://tools.ijnet.org/">Tools</a></li>
                <li><a href="https://ijnet.org/en/opportunities" target="blank">Opportunities</a></li>
                <li><a href="https://ijnet.org/en/videos" target="blank">Video</a></li>
                <li><a href="https://ijnet.org/en/chats" target="blank">Chats</a></li>
                <li><a href="https://ijnet.org/en/about" target="blank">About</a></li>
              </ul>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>
    <a href="index.html">
        <div class="container back-to-tools">
            <div class="back-to-tools-button">
                Back to tools
            </div>
        </div>
    </a>
    <div class="page-header">
        <div class="page-title">toDotmat</div>
        <div class="small-divider"></div>
        <div class="one-liner">Showcase breakdowns while maintaining individuality of events.</div>
    </div>

    <div id="introduction">
        <div class="article-container">
            <div class="section-title">Introduction</div>
            <p><strong>toDotmat</strong> is a free-to-use, mobile-responsive data visualization tool. Much like the humble pie chart, toDotmat communicates part-of-whole relationships. However, unlike the pie chart, this tool retains the individuality of the entities e.g. people, companies, etc. in each slice.</p>
            <p>The inspiration for toDotmat came from FiveThirtyEight.com’s "<a href="https://fivethirtyeight.com/features/gun-deaths/" target="blank">Gun Deaths in America</a>" visual, which used a very simple yet effective visual to talk about gun deaths in the United States. The graphic answers the question: "How many people from various subsections of society killed by gun violence?" This insight could have been communicated by aggregate charts like bar charts, trellis or pie charts. However, use of aggregate visuals would have hidden away the fact that each death is a human life lost. Instead FiveThirtyEight used dots to represent each person killed. This is what makes this visualisation special.</p>
        </div>
    </div>
    <div class="clearfix section-spacing"></div>
    <div id="demo">
        <div class="article-container">
            <div class="section-title">Demo</div>
        <div class="dotmat-types">
            <ul class="nav nav-tabs">
                <li data-type="n_and_e" class="active">Narrative & Exploratory</li>
                <li data-type="n_only">Narrative only</li>
                <li data-type="e_only">Exploratory only</li>
                <li data-type="video_n">Video Narrative</li>
                <!-- <li data-type="hindi_v">Hindi Version (Beta)</li> -->
            </ul>
            <select>
                <option data-type="n_and_e" selected>Narrative & Exploratory</option>
                <option data-type="n_only">Narrative only</option>
                <option data-type="e_only">Exploratory only</option>
                <option data-type="video_n">Video Narrative</option>
                <!-- <option data-type="hindi_v">Hindi Version (Beta)</option> -->
            </select>
        </div>
        </div>
        <div class="article-container">
            <div id="dotmat_demo"></div>
        </div>
    </div>
    <div class="clearfix section-spacing"></div>
    <div id="who-is-using-it">
        <div class="article-container">
            <div class="section-title">Who is using it?</div>
            <div class="fade-effect"></div>
            <div class="gallery-container">
                <div class="gallary-view">
                    <a href="http://www.indiaspend.com/cover-story/5-days-to-polls-more-support-for-bjp-but-40-of-uttar-pradesh-voters-undecided-24496" target="blank">
                        <div class="to-card">
                            <img src="src/img/dotmat/example1.png" width="100%">
                            <div class="to-card-content">
                                <div class="to-card-caption">
                                    <p>40% Uttar Pradesh Voters Undecided</p>
                                </div>
                                <img src="src/img/dotmat/indiaspend.png" class="logo_img" width="60%" height="30px">
                            </div>
                        </div>
                    </a>
                    <a href="http://datanewsroom.com/indianpakistaniprisoners/" target="blank">
                        <div class="to-card">
                            <img src="src/img/dotmat/example2.png" width="100%">
                            <div class="to-card-content">
                                <div class="to-card-caption">
                                    <p>Pakistani Prisoners in Indian Jails</p>
                                </div>
                                <img src="src/img/dotmat/datanewsroom.png" class="logo_img" height="30px">
                            </div>
                        </div>
                    </a>
                    <a href="http://freepresskashmir.com/the-invisible-battle/index.html" target="blank">
                        <div class="to-card">
                            <img src="src/img/dotmat/example3.png" width="100%" height="">
                            <div class="to-card-content">
                                <div class="to-card-caption">
                                    <p>The Invisible Battle</p>
                                    <br>
                                </div>
                                <img src="src/img/dotmat/freepress.png" class="logo_img" width="60%" height="30px">
                            </div>
                        </div>
                    </a>
                    <a href="http://www.moneycontrol.com/news/world/uk-polls-on-likely-scenario-when-may-may-not-be-sectors-that-indians-could-avoid-2300845.html" target="blank">
                        <div class="to-card">
                            <img src="src/img/dotmat/UK-result.png" width="100%" height="">
                            <div class="to-card-content">
                                <div class="to-card-caption">
                                    <p>2017 UK election results</p>
                                </div>
                                <img src="src/img/dotmat/moneycontrol-logo.png" class="logo_img" width="60%" height="30px">
                            </div>
                        </div>
                    </a>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="clearfix section-spacing"></div>
    <br>
    <div id="how-to-use-it">
        <div class="article-container">
            <div class="section-title">How to use it</div>
        </div>
        <div class="article-container dark-patch container">
            <br>
            <div class="article-container" id="setup-step-1">
                <div class="steps-area">
                    <div class="active-step step-number">1</div>
                    <div class="step-title"><p>Create Spreadsheet</p></div>
                    <div class="step-number">2</div>
                    <div class="step-number">3</div>
                    <div class="step-number">4</div>
                </div>
                <div class="steps-content-area">
                    <div class="steps-text-area">
                        <p>Build a new Google Spreadsheet by referring this <a href='https://docs.google.com/spreadsheets/d/1H28b3a-XhZH8Vjac6pJ9WM95yCBAdpVTCqN80KWpFZE/copy' target='blank'>template</a>. Click on the "Make a copy" button to add a copy of the template to your Google Drive. The template has 4 sheets - config, narrative, filters and data. For more details, refer <a href='https://github.com/pykih/dotmat/wiki/Configuration-Parameters' target='blank'>technical documentation.</a></p>
                        <p>
                          <ul>
                            <li>If you intend to publish a narrative-only story, then only include config and narrative sheets. (<a href='https://docs.google.com/spreadsheets/d/1OuYZ2YEez6vA24kvePzZA97Q8uWSa29hVs0Efi8ji-s/copy' target='blank'>template</a>)</li>
                            <li>If you intend to publish an exploratory-only story, then only include config, filters and data sheets. (<a href='https://docs.google.com/spreadsheets/d/13NBIEAbrKzK7PDe84MEVnVL3gYzREpHQKzJzA08k114/copy' target='blank'>template</a>)</li>
                            <li>If you intend to publish video narrative, then add "mode" as video in narrative sheet. (<a href='https://docs.google.com/spreadsheets/d/1rp70DAaBm2BMbgt_-uKacgNjCW71s7XOUSRjKvN4IIM/copy' target='blank'>template</a>)</li>
                            <li>If you intend to publish a story in Hindi language, then change the text to Hindi. Numbers remain as it is.(<a href='https://docs.google.com/spreadsheets/d/1bG8VpRfJMFylyBgce1l8o9Pz-_RYU6cBJFMPJCbksU4/copy' target='blank'>template</a>) </li>
                            <li>If you intend to publish both narrative and exploratory mode, then include all 4 sheets.</li>
                          </ul>
                        </p>
                        <p>Note</p>
                        <ul>
                            <li><p>Do not change the sheet names. They should still read - data, config, filters and narrative.</p></li>
                            <li><p>Do not change the column headers (first row) in the config, narrative and filters sheet. You can add your own columns in the data sheet.</p></li>
                            <li><p>Do not leave any blank rows in your spreadsheet.</p></li>
                        </ul>
                        <p>Read more on what type of data to enter in the "data" sheet <a href='https://github.com/pykih/dotmat/wiki/What-kind-of-data-to-enter-in-%22data%22-sheet%3F' target='blank'>here</a>.</p>
                    </div>
                    <div class="steps-image-area">
                    <img src="src/img/step1.png" class="step-img" width="100%">
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="steps-navigation-area">
                    <div class="next-step" data-step="1">
                        <div class="call-to-action-text">Next Step</div>
                    </div>
                </div>
            </div>

            <div class="article-container" id="setup-step-2">
                <div class="steps-area">
                    <div class="step-number">1</div>
                    <div class="active-step step-number">2</div>
                    <div class="step-title"><p>Publish To Web</p></div>
                    <div class="step-number">3</div>
                    <div class="step-number">4</div>
                </div>
                <div class="steps-content-area">
                    <div class="steps-text-area"><p>1. Under the "File" menu, select the option “Publish to the web…”.</p></div>
                    <div class="steps-image-area"><img src="src/img/step3.png" class="step-img" width="100%"></div>
                    <div class="clearfix"></div><br>
                    <div class="steps-text-area"><p>2. Click on "Publish" button without changing the default options.</p></div>
                    <div class="steps-image-area"><img src="src/img/step4.png" class="step-img" width="100%"></div>
                    <div class="clearfix"></div><br>
                    <div class="steps-text-area"><p>3. Copy the public link.</p></div>
                    <div class="steps-image-area"><img src="src/img/step5.png" class="step-img" width="100%"></div>
                    <div class="clearfix"></div>
                </div>
                <div class="steps-navigation-area">
                    <div class="prev-step" data-step="2">
                        <div class="call-to-action-text">Prev Step</div>
                    </div>
                    <div class="next-step" data-step="2">
                        <div class="call-to-action-text">Next Step</div>
                    </div>
                </div>
            </div>

            <div class="article-container" id="setup-step-3">
                <div class="steps-area">
                    <div class="step-number">1</div>
                    <div class="step-number">2</div>
                    <div class="active-step step-number">3</div>
                    <div class="step-title"><p>CMS Integration</p></div>
                    <div class="step-number">4</div>
                </div>
                <div class="steps-content-area">
                    <p><strong>WordPress.org:</strong> Add these plugins to allow embedding - https://wordpress.org/plugins/scripts-n-styles and https://wordpress.org/plugins/iframe</p>
                    <br>
                    <p>
                    <strong>WordPress.com:</strong> Emdedding the visual on wordpress.com is not possible because it does not allow addition of iframe tags or script tags according to it's security policies.</p>
                    <br>
                    <p>
                    <strong>Blogger:</strong> Full support. You can simply paste the embed code in the html section and publish it.</p>
                    <br>
                    <p>
                    <strong>Medium:</strong> Not supported</p>
                    <div class="clearfix"></div>
                </div>
                <div class="steps-navigation-area">
                    <div class="prev-step" data-step="3">
                        <div class="call-to-action-text">Prev Step</div>
                    </div>
                    <div class="next-step" data-step="3">
                        <div class="call-to-action-text">Next Step</div>
                    </div>
                </div>
            </div>

            <div class="article-container" id="setup-step-4">
                <div class="steps-area">
                    <div class="step-number">1</div>
                    <div class="step-number">2</div>
                    <div class="step-number">3</div>
                    <div class="active-step step-number">4</div>
                    <div class="step-title"><p>Embed</p></div>
                </div>
                <div class="steps-content-area">
                    <p>Copy the code from below into a Text Editor and replace the Google Sheet URL in the text with your Google Sheet URL. Paste the embed code in your site where you want your visual to appear.</p>
                    <textarea id='embed' readonly='readonly' style="width: 100%; background: #F0F7FA ; height: 200px; font-size: 15px;">
                        <div id="dotmat"></div>
                        <script type="text/javascript" src="//pym.nprapps.org/pym.v1.min.js"></script>
                        <script>
                            var metaTag=document.createElement('meta');
                            metaTag.name = "viewport";
                            metaTag.content = "width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no";
                            document.getElementsByTagName('head')[0].appendChild(metaTag);
                            var pymParent = new pym.Parent ( 'dotmat', 'https://storage.googleapis.com/g2gcs-hosting-dotmat-8ddb06e014/index.html?sheet=https://docs.google.com/spreadsheets/d/1H28b3a-XhZH8Vjac6pJ9WM95yCBAdpVTCqN80KWpFZE/pubhtml', {});
                        </script>
                    </textarea>
                    <br><br>
                    <p>The embed code for video narrative is different from other modes. Replace the Google Sheet URL in the code below and the copy paste the embed code in your site where you want your visual to appear</p>
                    <textarea id='embed' readonly='readonly' style="width: 100%; background: #F0F7FA ; height: 200px; font-size: 15px;">
                        <div id="dotmat-video"></div>
                        <script type="text/javascript" src="//pym.nprapps.org/pym.v1.min.js"></script>
                        <script>
                            var metaTag=document.createElement('meta');
                            metaTag.name = "viewport";
                            metaTag.content = "width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no";
                            document.getElementsByTagName('head')[0].appendChild(metaTag);
                            var pymParent = new pym.Parent ( 'dotmat-video', 'https://storage.googleapis.com/g2gcs-hosting-dotmat-v2-a76c37349b/index.html?sheet=https://docs.google.com/spreadsheets/d/1H28b3a-XhZH8Vjac6pJ9WM95yCBAdpVTCqN80KWpFZE/pubhtml', {});
                        </script>
                    </textarea>
                    <div class="clearfix"></div>
                </div>
                <div class="steps-navigation-area">
                    <div class="prev-step" data-step="4">
                        <div class="call-to-action-text">Prev Step</div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="clearfix section-spacing"></div>
    <div id="contributors">
        <div class="article-container">
            <div class="section-title">Contributors</div>
            <div class="col-sm-4">
                <div class="contributors-title">Fellow (Strategist)</div>
                <div class="profile">
                    <div class="profile-img"><img src="src/img/irshad.jpg" width="100%"></div>
                    <div class="profile-details">
                        <div class="name"><a href="https://twitter.com/daftari" target="blank">Irshad Daftari</a></div>
                        <div class="detail">ICFJ Google Fellow</div>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="contributors-title">Designed & developed by</div>
                <div class="profile">
                    <div class="profile-img"><img src="src/img/pykih_logo.png" width="100%"></div>
                    <div class="profile-details">
                        <div class="name"><a href="https://pykih.com/" target="blank">Pykih</a></div>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="contributors-title">Assisted by</div>
                <div class="profile">
                    <div class="profile-img"><img src="src/img/shadab.jpg" width="100%"></div>
                    <div class="profile-details">
                        <div class="name"><a href="https://twitter.com/shadabnazmi" target="blank">Shadab Nazmi</a></div>
                        <div class="detail">Journalist</div>
                    </div>
                </div>
                <div class="profile">
                    <div class="profile-img"><img src="src/img/akshi.jpg" width="100%"></div>
                    <div class="profile-details">
                        <div class="name"><a href="https://twitter.com/Akshi_Chawla" target="blank">Akshi Chawla</a></div>
                        <div class="detail">Researcher</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="//pym.nprapps.org/pym.v1.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script>
<script>
    var pymParent = new pym.Parent('dotmat_demo', 'https://storage.googleapis.com/g2gcs-hosting-gun-deaths-22be478b51/index.html?sheet=https://docs.google.com/spreadsheets/d/1H28b3a-XhZH8Vjac6pJ9WM95yCBAdpVTCqN80KWpFZE/pubhtml', {});

    function loadDotmat(data_type) {
        $("#dotmat_demo").html("");
        switch(data_type) {
            case "n_and_e":
                pymParent = new pym.Parent('dotmat_demo', 'https://storage.googleapis.com/g2gcs-hosting-gun-deaths-22be478b51/index.html?sheet=https://docs.google.com/spreadsheets/d/1H28b3a-XhZH8Vjac6pJ9WM95yCBAdpVTCqN80KWpFZE/pubhtml', {});
                break;
            case "n_only":
                pymParent = new pym.Parent('dotmat_demo', 'https://storage.googleapis.com/g2gcs-hosting-gun-deaths-22be478b51/index.html?sheet=https://docs.google.com/spreadsheets/d/1OuYZ2YEez6vA24kvePzZA97Q8uWSa29hVs0Efi8ji-s/pubhtml', {});
                break;
            case "e_only":
                pymParent = new pym.Parent('dotmat_demo', 'https://storage.googleapis.com/g2gcs-hosting-gun-deaths-22be478b51/index.html?sheet=https://docs.google.com/spreadsheets/d/13NBIEAbrKzK7PDe84MEVnVL3gYzREpHQKzJzA08k114/pubhtml', {})
                break;
            case "video_n":
                pymParent = new pym.Parent('dotmat_demo', 'https://storage.googleapis.com/g2gcs-hosting-dotmat-v2-a76c37349b/index.html?sheet=https://docs.google.com/spreadsheets/d/1rp70DAaBm2BMbgt_-uKacgNjCW71s7XOUSRjKvN4IIM/pubhtml', {})
                break;
            case "hindi_v":
                pymParent = new pym.Parent('dotmat_demo', 'https://storage.googleapis.com/g2gcs-hosting-dotmat-v2-a76c37349b/index.html?sheet=https://docs.google.com/spreadsheets/d/1bG8VpRfJMFylyBgce1l8o9Pz-_RYU6cBJFMPJCbksU4/pubhtml', {})
        }
    }

    $(".dotmat-types li").click(function() {
        let data_type = $(this).attr("data-type"),
            is_active = $(this).hasClass("active");
        if(!is_active) {
            $(".dotmat-types li.active").removeClass("active");
            $(this).addClass("active");
            loadDotmat(data_type);
        }
    });
    $(".dotmat-types select").change(function() {
        let data_type = $(this).find(":selected").attr("data-type");
        loadDotmat(data_type);
    });
</script>
<script type="text/javascript">
    let gallery_width = 0;

    $(".gallery-container .to-card").each(function() {
        gallery_width += $(this).width() + 17;
    });
    $(".gallery-container .gallary-view").width(gallery_width);

    var $root = $('html, body');
    $('.side-list a').click(function(e) {
        e.preventDefault();
        $(document).off("scroll");
        $('.side-list li.active-content').removeClass("active-content");
        $(this).closest("li").addClass("active-content");
        var href = $.attr(this, 'href');
        $root.animate({
            scrollTop: $(href).offset().top - 100
        }, 500, function () {
            // window.location.hash = href;
            // history.pushState(null, null, href);
            $(document).on("scroll", onScroll);
        });
        return false;
    });
    $(".step-number").click(function() {
        let step_numer = this.textContent;
        for(let i = 1; i <= 4; i++) {
            if(i == step_numer) {
                $("#setup-step-" + i).show();
            } else {
                $("#setup-step-" + i).hide();
            }
        }
    });
    $(".next-step").click(function() {
        let step_numer = parseInt(this.getAttribute("data-step"));
        $("#setup-step-" + step_numer).hide();
        $("#setup-step-" + (step_numer + 1)).show();
    });
    $(".prev-step").click(function() {
        let step_numer = parseInt(this.getAttribute("data-step"));
        $("#setup-step-" + step_numer).hide();
        $("#setup-step-" + (step_numer - 1)).show();
    });

    $(document).on("scroll", onScroll);
    let window_height = $(window).height(),
        side_list_max_top = 0.40 * window_height,
        side_list_min_top = 0.10 * window_height;
    function onScroll(event){
        let scroll_position = $(document).scrollTop();
        $('#side_list a').each(function () {
            let current_link = $(this),
                current_href = current_link.attr("href"),
                current_section = $(current_href),
                current_section_top = current_section.position().top;
            if (current_section_top <= (scroll_position  + 100) && (current_section_top + current_section.height() + 50) > (scroll_position + 100)) {
                $('#side_list li.active-content').removeClass("active-content");
                current_link.closest("li").addClass("active-content");
                // history.pushState(null, null, current_href);
            }
        });
        let scroll_diff = side_list_max_top - scroll_position;
        scroll_diff = Math.min(scroll_diff, side_list_max_top);
        scroll_diff = Math.max(scroll_diff, side_list_min_top);
        $("#side_list .list-unstyled").css("top", scroll_diff);
    }
</script>
</body>
</html>
